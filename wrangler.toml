name = "sahajcloud"
compatibility_date = "2025-11-27"
main = ".open-next/worker.js"
compatibility_flags = ["nodejs_compat"]

# Sentry version tracking
[version_metadata]
binding = "CF_VERSION_METADATA"

# Workers.dev subdomain configuration
# Set to false to disable *.workers.dev routes (use custom domains instead)
workers_dev = false

# Preview URLs configuration
# Set to true to enable preview URLs for testing deployments
preview_urls = false

[observability]
enabled = true

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# D1 Database Binding
[[d1_databases]]
binding = "D1"
database_name = "sahajcloud"
database_id = "2ff069c0-a98b-4a6c-94eb-fe199f969c8b"
remote = true

# R2 Storage Binding
[[r2_buckets]]
binding = "R2"
bucket_name = "sahajcloud"
jurisdiction = "eu"

# Environment Variables (non-sensitive)
[vars]
NODE_ENV = "production"
SAHAJCLOUD_URL = "https://cloud.sydevelopers.com"
WEMEDITATE_WEB_URL = "https://wemeditate.com"
SAHAJATLAS_URL = "https://atlas.sydevelopers.com"
PUBLIC_ASSETS_URL = "assets.sydevelopers.com"

# Sentry Configuration
# SENTRY_DSN should be set via: wrangler secret put SENTRY_DSN
# SENTRY_DSN = "https://your-dsn@sentry.io/project-id"

# Build Configuration
[build]
command = "WRANGLER_BUILD_CONDITIONS=\"\" WRANGLER_BUILD_PLATFORM=\"node\" pnpm exec opennextjs-cloudflare build"
